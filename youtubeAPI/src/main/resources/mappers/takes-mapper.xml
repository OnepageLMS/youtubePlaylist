<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="Takes">

	<!-- pass -> status로 바뀌어야 하지 않나?  -->
	<insert id="insertTakes">
		insert into lms_takes(studentID, studentName, className, classID, pass)
		values
		(#{studentID}, #{studentName}, #{className}, #{classID}, #{pass})
	</insert>
	
 	<update id="updateTakes">
		update lms_takes
		set studentID=#{studentID}, studentName=#{studentName}, className=#{className}, classID=#{classID}, pass=#{pass}
		where id=#{id}
	</update>
	
	<delete id="deleteTakes">
		delete from lms_takes where id=#{id}
	</delete>
	
	<select id="getTakes" resultType="TakesVO">
		select * from lms_takes
		where id=#{id}
	</select>
	
	<select id="getTakesNum" resultType="TakesVO">
		select * from lms_takes
		where classID=#{classID} order by studentName
	</select>
	
	<select id="getAllClassStudent" resultType="TakesVO">
		select id, studentID from lms_takes
		where classID=#{classID}
	</select>
	
	<select id="getStudentInfo" resultType="TakesVO">
		select * from lms_takes inner join lms_student where
		lms_takes.studentID = lms_student.id and classID = #{classID}
	</select>
	
	<update id="updateStatus">
		update lms_takes
		set status=#{status}
		where studentID=#{studentID} 
	</update>
	

</mapper>